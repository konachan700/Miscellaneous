AnimeLiveWallpapers
===================

Anime Live Wallpapers



Anime Live Wallpapers
Инструкция по установке тем.


Итак, после установки обоев и первого запуска оных в предпросмотре у нас в корне памяти телефона возникнет папочка /ALW/, в которой будет еще несколько папок и файлов.

Начнем со спрайтов. Они лежат в папке /ALW/sprites/. Допустимый формат файлов — только PNG, и да, никаких пробелов или русских символов в именах. Там обязательно должны быть спрайты:
normal.png — это спрайт персонажа, который отображается чаще всего, так сказать, в режиме покоя.
eye_close.png — спрайт с закрытыми глазами (или с шевелящимися ушками, кому что более доставляет)
touchmap.png – карта нажатий, о ней позже.
Остальные спрайты на свой вкус и цвет. Однако, владельцы брендовых телефонов SOSNOOLEY у китаебогов: в брендах java heap size в районе 24-32 мегабайт, то есть, много спрайтов не зальешь, обоина упадет с ошибкой. У китайцев проще, ибо там этот параметр выставлен так, чтобы никто о нем никогда не узнал :3, у меня на одном из устройств это четверть доступной оперативки, лол (на самом деле, это плохо, потому что повесить устройство запросто можно кривым приложением, но владельцам китайфонов традиционно).
АХТУНГ: не надо заливать спрайты в FHD или 4K, если телефон имеет разрешение 320х240 :3 — не поленись и уменьши картинки, чем снизишь вероятность былинного отказа приложения.

Залил спрайты? Теперь TouchMap, карта «чувствительных зон» у персонажа. За нее отвечает, собственно, сама карта /ALW/sprites/touchmap.png и файл настроек /ALW/touchmap.conf. Работает это так: мы тыкаем по экрану в определенный пиксель, определяется его цвет (без альфы), и по RGB коду в файле /ALW/touchmap.conf производится поиск имени выводимого спрайта.

	Пример: 
Красим зону сисек нашей девочки синим цветом, самым синим, тем, что 0000ff код имеет. В файл /ALW/touchmap.conf добавляем строку вида:
	0000ff=angry_girl
где 0000ff — синий цвет, которым покрашена нужная зона спрайта в карте прикосновений /ALW/sprites/touchmap.png, angry_girl - это имя спрайта, который будет показан в ответ на нажатие (из папки /ALW/sprites/ без .png)

АХТУНГ: файла /ALW/touchmap.conf по-умолчанию НЕТ! Его надо создать руками!

Теперь к фонам, какие обои без доставляющего фона?
Фона лежат в папке /ALW/backgrounds/. И вот тут будет засада, потому как многие юзают фичу автоповорота экрана... Я это пошлое дело вырубил сразу, ибо сия свистелка нужна только в видеоплеере, в остальных местах только мешает. Но многим нравится. Потому обои льем или квадратные или любые, но принимаем к сведению, что программа обрезает оные по геометрическому центру так, чтобы вписать в экран. Сложно сказал, да, но суть та же, что обычные обои для андроида хер-пойми-какой-формы. Аноны, не использующие автоповорот экрана, могут заливать фона сразу в нужном формате под свой экран.

По-умолчанию обои меняются раз в десять минут, но можно настроить это время в файле /ALW/wallpapers.conf, добавив/изменив параметр « bgchange=10 » на нужное значение в минутах. Для отключения черного градиента по краям экрана надо его отключить параметром « shadow=0 ».

АХТУНГ: файла /ALW/wallpapers.conf после установки обоины НЕТ! Его надо создать руками!

Еще пару слов про настройки. Вот те сердечки, что летят на фоне, это файл /ALW/fl.png, которого нет по-умолчанию. Он должен быть строго до 128х128 размером, в противном случае вероятность былинного отказа увеличивается! Если летающие штуки за спиной не нужны, то можно отключить их, добавив в файл /ALW/wallpapers.conf строчку « fl=0 ». Количество летающих фрагнментов определяется параметром « flcount=43 » там же.

Пока это все. 
В следующей версии:
будет смена фонов по расписанию
может быть, до конца разберусь, как обойти проблему java heap size
реакция персонажа на свет и тряску, используем сенсоры
ну и все то, что попросит анон

Чего НЕ будет:
«а запили мне тему с ...» - сам запили, ман есть
«нарисуй глазки\ушки» - я почти не умею рисовать, и по дефолтным спрайтам это отлично видно.

И напоследок. Если программа упала, лог ошибки будет в файле /ALW/error.log. Если там встречается слово OutOfMemory, репорт не пиши — тебе просто не повезло, плохой у тебя телефон.

